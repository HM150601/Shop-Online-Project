{"ast":null,"code":"var _jsxFileName = \"/Users/hm150601/Documents/GitHub/Shop-Online-Project/frontend/src/screens/UserEditScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Form, Button } from \"react-bootstrap\";\nimport FormContainer from \"../components/FormContainer\";\nimport Message from \"../components/Message\";\nimport Loading from \"../components/Loading\";\nimport { getUserDetails, updateUser } from \"../redux/actions/userActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserEditScreen = () => {\n  _s();\n  const dispatch = useDispatch();\n  let params = useParams();\n  let navigate = useNavigate();\n  const userId = params.id;\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n  const userDetails = useSelector(state => state.userDetails);\n  const {\n    user,\n    loading,\n    error\n  } = userDetails;\n  const userUpdate = useSelector(state => state.userUpdate);\n  const {\n    loading: loadingUpdate,\n    success: successUpdate,\n    error: errorUpdate\n  } = userUpdate;\n  useEffect(() => {\n    if (successUpdate) {\n      navigate(\"/admin/users\");\n    } else {\n      if (!user || user._id !== userId) {\n        dispatch(getUserDetails(userId));\n      } else {\n        setName(user.name);\n        setEmail(user.email);\n        setIsAdmin(user.isAdmin);\n      }\n    }\n  }, [dispatch, userId, user, successUpdate]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    dispatch(updateUser({\n      _id: userId,\n      name,\n      email,\n      isAdmin\n    }));\n  };\n  return /*#__PURE__*/_jsxDEV(FormContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Edit User\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Form, {\n      onSubmit: handleSubmit,\n      children: [error && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this), errorUpdate && /*#__PURE__*/_jsxDEV(Message, {\n        variant: \"danger\",\n        children: errorUpdate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"name\",\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Full Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"Full Name\",\n          value: name,\n          onChange: e => setName(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"email\",\n        className: \"mt-3\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        controlId: \"isadmin\",\n        children: /*#__PURE__*/_jsxDEV(Form.Check, {\n          className: \"mt-3\",\n          type: \"radio\",\n          label: \"is Admin\",\n          id: \"isadmin\",\n          name: \"isAdmin\",\n          checked: isAdmin,\n          onChange: e => setIsAdmin(!isAdmin)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"mt-3\",\n        type: \"submit\",\n        variant: \"primary\",\n        children: loadingUpdate ? /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 30\n        }, this) : `Update`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(UserEditScreen, \"dc+O3v93MWpqhYGzJaT+ZuwfYm8=\", false, function () {\n  return [useDispatch, useParams, useNavigate, useSelector, useSelector];\n});\n_c = UserEditScreen;\nexport default UserEditScreen;\nvar _c;\n$RefreshReg$(_c, \"UserEditScreen\");","map":{"version":3,"names":["React","useState","useEffect","useDispatch","useSelector","useParams","useNavigate","Form","Button","FormContainer","Message","Loading","getUserDetails","updateUser","UserEditScreen","dispatch","params","navigate","userId","id","name","setName","email","setEmail","isAdmin","setIsAdmin","userDetails","state","user","loading","error","userUpdate","loadingUpdate","success","successUpdate","errorUpdate","_id","handleSubmit","e","preventDefault","target","value"],"sources":["/Users/hm150601/Documents/GitHub/Shop-Online-Project/frontend/src/screens/UserEditScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Form, Button } from \"react-bootstrap\";\nimport FormContainer from \"../components/FormContainer\";\nimport Message from \"../components/Message\";\nimport Loading from \"../components/Loading\";\nimport { getUserDetails, updateUser } from \"../redux/actions/userActions\";\n\nconst UserEditScreen = () => {\n  const dispatch = useDispatch();\n  let params = useParams();\n  let navigate = useNavigate();\n  const userId = params.id;\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  const userDetails = useSelector((state) => state.userDetails);\n  const { user, loading, error } = userDetails;\n\n  const userUpdate = useSelector((state) => state.userUpdate);\n  const {\n    loading: loadingUpdate,\n    success: successUpdate,\n    error: errorUpdate,\n  } = userUpdate;\n\n  useEffect(() => {\n    if (successUpdate) {\n      navigate(\"/admin/users\");\n    } else {\n      if (!user || user._id !== userId) {\n        dispatch(getUserDetails(userId));\n      } else {\n        setName(user.name);\n        setEmail(user.email);\n        setIsAdmin(user.isAdmin);\n      }\n    }\n  }, [dispatch, userId, user, successUpdate]);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(updateUser({ _id: userId, name, email, isAdmin }));\n  };\n\n  return (\n    <FormContainer>\n      <h2>Edit User</h2>\n      {loading ? (\n        <Loading />\n      ) : (\n        <Form onSubmit={handleSubmit}>\n          {error && <Message variant=\"danger\">{error}</Message>}\n          {errorUpdate && <Message variant=\"danger\">{errorUpdate}</Message>}\n          <Form.Group controlId=\"name\" className=\"mt-3\">\n            <Form.Label>Full Name</Form.Label>\n            <Form.Control\n              type=\"text\"\n              placeholder=\"Full Name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n            ></Form.Control>\n          </Form.Group>\n          <Form.Group controlId=\"email\" className=\"mt-3\">\n            <Form.Label>Email</Form.Label>\n            <Form.Control\n              type=\"email\"\n              placeholder=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            ></Form.Control>\n          </Form.Group>\n          <Form.Group controlId=\"isadmin\">\n            <Form.Check\n              className=\"mt-3\"\n              type=\"radio\"\n              label=\"is Admin\"\n              id=\"isadmin\"\n              name=\"isAdmin\"\n              checked={isAdmin}\n              onChange={(e) => setIsAdmin(!isAdmin)}\n            ></Form.Check>\n          </Form.Group>\n          <Button className=\"mt-3\" type=\"submit\" variant=\"primary\">\n            {loadingUpdate ? <Loading /> : `Update`}\n          </Button>\n        </Form>\n      )}\n    </FormContainer>\n  );\n};\n\nexport default UserEditScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}